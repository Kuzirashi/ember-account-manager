<?phpclass Database {	var $db 		= null;	var $result 	= null;		public function connect($host, $user, $pass) {		if (!$this->db = new mysqli($host, $user, $pass) OR mysqli_connect_errno() != 0) {			throw new Exception('Can not connect to the database. (' .  mysqli_connect_error() . ')');		}	}		public function select_db($name) {		if (!$this->db->select_db($name)) {			throw new Exception('Can not select database.');		}	}		public function query($str) {		if (!$this->result = $this->db->query($str)) {			throw new Exception('Can not execute query.');		} else {			return $this->result;			$this->close();		}	}		public function fetch_real_assoc($result) {		$array 	= null;		$n 		= 0;		while ($row = $result->fetch_assoc()) {			$array[$n] = $row;			$n++;		}		$result->free();		return $array;	}		public function ammount ($q) {		if (!$this->result = $this->db->query($q)) {			throw new Exception('Query failed. Reason: ' . $this->db->error);		} else {			if (!$this->numer = $this->result->num_rows) {				throw new Exception('Did not manage to count rows.');			} else {				$this->_close();				return $this->numer;			}		}	}		private function _close () {		if (!$this->db->close()) {			throw new Exception('Did not manage to close.');		}	}}?>